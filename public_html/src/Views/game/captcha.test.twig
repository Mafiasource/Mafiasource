{% import "app/Resources/Views/macros/cf.turnstile.macro.twig" as cfTurnstile %}

{% extends "/app/Resources/Views/blank.gamebase.twig" %}

{% block stylesheets %}
<style type="text/css">
    .captcha-overlay {display:flex;position:fixed;justify-content: center;align-items: center;top:0;left:0;z-index:99;width:100%;height:100%;background:rgba(0, 0, 0, .5);-webkit-backdrop-filter: blur(3px);backdrop-filter: blur(3px);}
    .captcha-container {display:inline-block;vertical-align:middle;max-width:520px;}
    .captcha-container > div {background:#fff;border: 1px solid #1b1b1b;color: #000;}
    .captcha-container h4 {display:block;width:100%;height:100%;background:#1b1b1b;padding:15px 5px;margin:0;color:#fff;box-sizing: border-box;}
    .cf-container {display: flex; justify-content: center; align-items: center; min-height: 7em;}
</style>
{% endblock stylesheets %}

{% block content %}
<form id="captcha-test" action="{{ routing.getRouteByRouteName('captcha_test') }}" method="POST">
    <div class="captcha-overlay">
        <div class="captcha-container middle">
            {% if message is not empty %}
                {% include "app/Resources/Views/macros/alerts.base.top.twig" %}
            {% endif %}
            <div class="clear">
                <h4>{{ langs.CAPTCHA_TEST_TITLE|raw }}</h4>
                <div class="cf-container">
                    {{ cfTurnstile.turnstile() }}
                </div>
            </div>
            <br class="clear"/>
            <input type="hidden" name="security-token" value="{{ securityToken }}"/>
            <input type="submit" name="submit-captcha" class="execbutton right" value="{{ langs.ACCEPT }}"/>
        </div>
    </div>
</form>
{% endblock content %}

{% block javascripts %}
    {{ cfTurnstile.turnstileScript(CF_TURNSTILE_SITEKEY) }}
{% endblock javascripts %}
